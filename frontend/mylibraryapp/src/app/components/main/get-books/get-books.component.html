<div class="m3">

    <div class="row">
        <div class="col mb2 mx2">
            <h3>Type a book title to begin the search</h3>
        </div>
    </div>
    <div class="row">
        <div class="col mx2">
            <mat-form-field>
                <mat-label>Title</mat-label>
                <input matInput type="text" [(ngModel)]="title">
                <button *ngIf="title" matSuffix mat-icon-button aria-label="Clear" (click)="title=''">
                    <mat-icon>close</mat-icon>
                </button>
            </mat-form-field>
        </div>
    </div>

    <div class="row">
        <div class="col mx2">
            <div class="text-center">
                <button mat-raised-button color="primary" class="search-button" (click)="searchBooks()">
                    <mat-icon matListItemIcon>search</mat-icon>
                    Search Books
                </button>
            </div>
        </div>
    </div>

    <div class="row" *ngIf="googleapiBooks.length">
        <div class="table-container mt3 mx2">
            <table mat-table [dataSource]="googleapiBooks" class="mat-elevation-z8">
                <ng-container matColumnDef="thumbnail">
                    <th mat-header-cell *matHeaderCellDef> Thumbnail </th>
                    <td mat-cell *matCellDef="let book"> {{book.thumbnail}} </td>
                </ng-container>
                <ng-container matColumnDef="title">
                    <th mat-header-cell *matHeaderCellDef> Title </th>
                    <td mat-cell *matCellDef="let book"> {{book.title}} </td>
                </ng-container>
                <ng-container matColumnDef="authors">
                    <th mat-header-cell *matHeaderCellDef> Authors </th>
                    <td mat-cell *matCellDef="let book"> {{book.authors}} </td>
                </ng-container>
                <ng-container matColumnDef="isbn">
                    <th mat-header-cell *matHeaderCellDef> ISBN </th>
                    <td mat-cell *matCellDef="let book"> {{book.isbn}} </td>
                </ng-container>
                <ng-container matColumnDef="description">
                    <th mat-header-cell *matHeaderCellDef> Description </th>
                    <td mat-cell *matCellDef="let book"> {{book.description}} </td>
                </ng-container>                
                <ng-container matColumnDef="google_id">
                    <th mat-header-cell *matHeaderCellDef> Google ID </th>
                    <td mat-cell *matCellDef="let book"> {{book.google_id}} </td>
                </ng-container>
                <ng-container matColumnDef="info">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let book">
                        <button mat-icon-button color="accent" (click)="showInfo(book)">
                            <mat-icon>info</mat-icon>
                        </button>
                    </td>
                </ng-container>
                <ng-container matColumnDef="save">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let book">
                        <button mat-icon-button color="accent" (click)="storeBook(book)">
                            <mat-icon>save</mat-icon>
                        </button>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
    </div>

</div>